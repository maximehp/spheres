<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Spheres</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="img.ico">
</head>
<body>
    <div id="background">
        <div id="overlay">
            <!-- About button -->
            <button id="aboutBtn" class="corner-btn">?</button>

            <!-- Music controls (button + slider) -->
            <div class="music-slider" id="musicControls">
                <div class="music-slider-track" id="musicTrack"></div>
                <div class="music-slider-thumb" id="musicThumb">♫</div>
            </div>

            <canvas id="circlesCanvas"></canvas>

            <!-- Hidden SoundCloud background music -->
            <iframe
                id="scPlayer"
                class="sc-hidden"
                width="0"
                height="0"
                scrolling="no"
                frameborder="no"
                allow="autoplay"
                src="https://w.soundcloud.com/player/?url=https%3A//soundcloud.com/boo-moo-shoo/my-lofi-collection-1-hour-of-aesthetic-calm-lofi-music-free-no-copyright-music&auto_play=true&hide_related=true&show_comments=false&visual=false&muted=true">
            </iframe>
        </div>
    </div>

    <!-- ABOUT MODAL -->
    <div id="aboutModal" class="modal hidden">
        <div class="modal-content about-panel">
            <h1 class="about-title">ABOUT</h1>

            <p class="about-subtitle">
                Inspired by <strong>Circles</strong> by <strong>FlameMasterNxf</strong>.
            </p>

            <p class="about-text">
                Designed and coded by Maxime Hendryx-Parker as a project
                for a college English class.
            </p>

            <p class="about-music">
                Background music:
                <a
                    href="https://soundcloud.com/boo-moo-shoo/my-lofi-collection-1-hour-of-aesthetic-calm-lofi-music-free-no-copyright-music"
                    target="_blank"
                    rel="noopener noreferrer"
                >
                    “My Lofi Collection” by Boo Moo Shoo
                </a>
                on SoundCloud.
            </p>

            <!-- Background mouse movement toggle -->
            <div class="about-toggle-row">
                <span class="about-toggle-text">Background reacts to mouse</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="bgMouseToggle">
                    <span class="toggle-slider"></span>
                </label>
            </div>

            <div class="about-buttons-row">
                <button id="exportBtn" class="modal-reset-btn about-btn">Export Save</button>
                <button id="importBtn" class="modal-reset-btn about-btn">Import Save</button>
            </div>

            <div class="about-buttons-row">
                <button id="resetBtn" class="modal-reset-btn about-btn danger">Reset Progress</button>
                <button id="closeAbout" class="modal-close-btn about-btn primary">Close</button>
            </div>
        </div>
    </div>

    <!-- SoundCloud Widget API -->
    <script src="https://w.soundcloud.com/player/api.js"></script>

    <!-- Vanta / Three libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.waves.min.js"></script>

    <!-- Game scripts -->
    <script src="crypto-utils.js"></script>
    <script src="circles-config.js"></script>
    <script src="circles-core.js"></script>
    <script src="circles-upgrades.js"></script>

    <!-- Rendering modules -->
    <script src="render/render-sphere.js"></script>
    <script src="render/render-upgrades.js"></script>
    <script src="render/render-stages.js"></script>
    <script src="render/render-main.js"></script>

    <!-- Entry point -->
    <script src="circles-main.js"></script>

    <!-- Music Control -->
    <script src="music-utils.js"></script>
</body>
</html>
